<Window x:Class="WorkSummarizerGUI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Work Summarizer"
        Height="460"
        MinWidth="300"
        Width="300"
        MaxWidth="300"
        DataContext="{Binding RelativeSource={RelativeSource Self}, Path=ViewModel}">
    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
        
        <Style TargetType="Label">
            <Setter Property="FontFamily"
                    Value="Segoe UI" />
            <Setter Property="Foreground"
                    Value="#222222" />
        </Style>
    </Window.Resources>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        
        <Label Grid.Row="0" 
               Content="WORK SUMMARIZER"
               FontSize="24"
               FontWeight="Bold"/>

        <Grid Grid.Row="1"
              Height="3">
            <ProgressBar Height="3"
                         Visibility="{Binding IsBusy, Converter={StaticResource BooleanToVisibilityConverter}}"
                         IsIndeterminate="True"/>
        </Grid>

        <ScrollViewer Grid.Row="2"
                      VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="10,0,10,0">
                <StackPanel>
                    <Label Content="sources"
                           FontFamily="Segoe UI"
                           FontSize="22"
                           FontWeight="Bold" />
                    <ItemsControl ItemsSource="{Binding EventSources}">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <CheckBox Content="{Binding Name}"/>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </StackPanel>
                <StackPanel>
                    <Label Content="time span"
                           FontFamily="Segoe UI"
                           FontSize="22"
                           FontWeight="Bold" 
                           Margin="0,20,0,0" />
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition />
                            <ColumnDefinition />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition />
                            <RowDefinition />
                        </Grid.RowDefinitions>

                        <Label Grid.Column="0"
                               Grid.Row="0"
                               Content="Start" />
                        
                        <DatePicker Grid.Column="1" 
                                    Grid.Row="0" 
                                    SelectedDate="{Binding StartLocalTime}"
                                    DisplayDateEnd="{Binding EndLocalTime}"/>

                        <Label Grid.Column="0"
                               Grid.Row="1"
                               Content="End"
                               Margin="0,6,0,0"/>

                        <DatePicker Grid.Column="1"
                                    Grid.Row="1"
                                    SelectedDate="{Binding EndLocalTime}"
                                    DisplayDateStart="{Binding StartLocalTime}"
                                    Margin="0,6,0,0"/>
                    </Grid>
                </StackPanel>
                <StackPanel>
                    <Label Content="reporting"
                           FontFamily="Segoe UI"
                           FontSize="22"
                           FontWeight="Bold"
                           Margin="0,20,0,0" />
                    <ItemsControl ItemsSource="{Binding ReportingSinks}">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <CheckBox Content="{Binding Name}" />
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </StackPanel>
                
                <Button Content="generate"
                        Height="40"
                        Width="140"
                        HorizontalAlignment="Right"
                        Margin="0,20,0,0"
                        Click="OnGenerateClick"/>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Window>
